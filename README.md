# 价格预测一 实验报告

## 1. 算法思想

**1.1 问题描述** 通过一段时间内的期货交易数据，预测未来一段时间内期货价格的涨/跌情况。

**1.2 问题分析** 预测价格上涨、保持平稳、下跌是一个分类问题，可以提取特征训练线性分类器，比如SVM进行价格预测。

## 2. 实现思路

**2.1 数据处理** 

1. 每20s的数据作为一个训练样本，前10s作为输入，后10s进行标注。
2. ```read_data.py```将数据读入，筛选出交易数据以字典方式存入文件
3. ```label_data.py```标注数据，每组输入为$[ a_1, a_2, \cdots, a_8]$，其中$a_1, a_2, \cdots, a_5$为每2s内价格按照成交量加权的均值减去这10s内的均价，$a_6$为成交量，$a_7, a_8$为10s内的最高价、最低价减去均价。即$a_i = \frac{\sum_{2(i-1)<=t<=2i}{price_t*volumn_t}}{\sum_{2(i-1)<=t<=2i}{volumn_t}} - mean, (i = 1, 2, 3, 4, 5)$ $a_6 = \sum{volumn}$ $a_7 = maxprice - mean$ $a_8 = minprice - mean$ 通过这样的特征提取，一方面达到降维的目的，一方面平滑了数据，降低了段时间剧烈变化的价格对趋势预测的干扰

**2.2 训练模型** 

1.  使用```sklearn```的```linear_model.SGDClassifier```模型，此方法构造的分类器实现了SVM模型的训练和预测算法
2. 由于使用原始数据进行训练，绝大部分数据均为“保持平稳”的类别，无法训练出有实际价值的可以给出“上涨”或者“下跌”判断的模型，故进行训练数据的平衡，以0.9的概率随机从训练集中丢弃标记为“保持平稳”的数据，使得数据中上涨、保持平稳、下跌三类的数据量较为均衡。
